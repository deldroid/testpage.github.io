<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@latest/distr/fira_code.css">

    <style>

        @font-face {
          font-family: 'Fira Code';
          font-style: normal;
          font-weight: 400;
          font-display: swap;
          src: url('https://fonts.gstatic.com/s/firacode/v22/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJV37Nv7g.woff2') format('woff2');
        }
        
        :root {
            --color-bg-2: #2B2B2C;
            --color-primary: #EBEBEB;
            --document-column-size: auto;
        }

        .widget {
            display: block;
            min-width: 0;
            max-width: var(--document-column-size, auto);
            margin: 0 auto 0.882353em;
            min-height: 1.5em;
            padding: 0.5em;
            box-sizing: border-box;
            border-radius: 0.5em;
            overflow: auto;
            background-color: var(--color-bg-2);
            font-family: 'FiraCode', FiraCode, 'Fira Code', SFMono-Regular, Consolas, 'Liberation Mono', Menlo, Monaco, Courier, monospace;
            font-stretch: normal;
            font-weight: 400;
            font-style: normal;
            letter-spacing: normal;
            font-feature-settings: "ss01" off, "ss02" off, "ss03" off, "ss04" on, "ss05" off, "ss06" on, "ss07" off, "zero" off, "onum" off;
            font-size: 0.87em;
            color: var(--color-primary, #1A1919);
            line-height: 1.5em;
            text-align: left;
            word-spacing: normal;
            word-break: normal;
            word-wrap: normal;
            -moz-tab-size: 4;
            tab-size: 4;
            -webkit-hyphens: none;
            -moz-hyphens: none;
            hyphens: none;
        }

        .container {
            display: inline-flex;
            white-space: nowrap;
        }

        .squeezed-text {
            display: inline-block;
            transform: scaleX(0); /* Collapse the text to have zero width */
            width: 0; /* Ensure the width is zero */
        }

        .normal-text {
            display: inline;
            white-space: pre;
        }
        body {
            margin: 0;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div class="widget">
        <div class="container">
            <span class="normal-text" id="visible1"></span>
            <span class="squeezed-text" id="invisible"></span>
            <span class="normal-text" id="visible2"></span>
        </div>
    </div>

    <script>
        // Parse query parameters from the URL
        const params = new URLSearchParams(window.location.search);
        const vis1 = params.get("vis1") || "";
        const inv = params.get("inv") || "";
        const vis2 = params.get("vis2") || "";

        // Update the text dynamically
        document.getElementById("visible1").textContent = vis1;
        document.getElementById("invisible").textContent = inv;
        document.getElementById("visible2").textContent = vis2;

        // Function to clear selection
        function clearSelection() {
            const selection = window.getSelection();
            if (selection) selection.removeAllRanges();
        }

        // Detect when the iframe loses focus and clear selection
        window.addEventListener("blur", clearSelection);
    </script>
</body>
</html>
